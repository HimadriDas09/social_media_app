<link rel="stylesheet" href="/css/user_profile.css">

<!-- preview the file -->

<div id="profile-picture-container">
    <p>Current user avatar</p>
    <br>
    <img src="<%= user.avatar %>" alt="<%= user.name %>">
</div>
<div id="image-preview-container">
</div>

<!-- for cur signed in user : display a form to change the user details -->
<% if(user.id == profile_user.id) { %>

    <!-- create a form to data and update > this form will have a route and an action -->
    <form action="/users/update/<%= profile_user.id %>" method="post" enctype="multipart/form-data" id="user-update-form">
        <input type="text" name="name" placeholder="Your Name" value="<%= profile_user.name %>" required>
        <input type="email" name="email" placeholder="Your Email" value="<%= profile_user.email %>" required>
        <input type="file" name="avatar" placeholder="Profile Picture" id="user-avatar-input">
        <!-- avatar is the file.fieldname -->
        <input type="submit" value="Update"> 
    </form>

<% } else { %>

    <!-- display the details of user -->
    <p><%= profile_user.name %></p>
    <p><%= profile_user.email %></p>

<%} %>

<!-- bcz to look for assets we know where they are stored -->
<script src="/js/user_profile.js"></script>